# name: test/sql/connect.test
# description: test odbc_connect() function
# group: [sql_connect]

statement error
SET VARIABLE conn = odbc_connect()
----
Catalog Error: Scalar Function with name odbc_connect does not exist!

require odbc_scanner

statement error
SET VARIABLE conn = odbc_connect()
----
Binder Error: No function matches the given name and argument types 'odbc_connect()'

statement error
SET VARIABLE conn = odbc_connect(NULL)
----
Invalid Input Error: 'odbc_connect' error: specified URL argument must be not NULL

statement error
SET VARIABLE conn = odbc_connect('fail')
----
Invalid Input Error: 'SQLDriverConnect' failed

statement error
SET VARIABLE conn = odbc_connect('Driver=fail')
----
Invalid Input Error: 'SQLDriverConnect' failed

statement ok
SET VARIABLE conn = odbc_connect('ODBCSCANNER_DEBUG_CONN_STRING_ENV_VAR=ODBC_CONN_STRING')

statement ok
SELECT odbc_close(getvariable('conn'))
